<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>Document</title>
	<style>
	#div1{
	width:100px;height:100px;background:red; position:absolute;
	top:100px;left:100px;
	}
	#div2{
	width:100px;height:100px;background:red; position:absolute;
	top:200px;left:300px;
	}
	</style>
	<script>
	 window.onload = function (){
	  var oDiv  = document.getElementById("div1");
	  
	  /*
	   onmousedown
	   onmousemove
	   onmouseup
	  
	  */
	  oDiv.onmousedown = function(ev){
	   var ev = ev||event;
	   //alert(ev.clientX+":"+this.offsetLeft);
	   var disX = ev.clientX - this.offsetLeft;
	   var disY = ev.clientY - this.offsetTop;
	    if(oDiv.setCapture){
			oDiv.setCapture();
	   }
	    document.onmousemove = function(ev){
		 var ev = ev||event;
		 //alert(1);
		 oDiv.style.left = ev.clientX -disX +"px";
		 oDiv.style.top = ev.clientY - disY +"px";
		
		}
		document.onmouseup = function(){
			document.onmouseup =  document.onmousemove = null;
			//释放全局捕获
			if(oDiv.releaseCapture){
				oDiv.releaseCapture();
		   }
		}
	  return false;
	  } 
	 }
	
	</script>

 </head>
 <body style="height:2000px;">
 qweqweqweqweq
  <div id="div1"></div>
  
 </body>
</html>
